<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Trendza</title>

<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600;800&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box;}
body{
background:#000;
color:#fff;
font-family:'Orbitron', sans-serif;
text-align:center;
overflow-x:hidden;
}

/* GRID BACKGROUND */
body::before{
content:"";
position:fixed;
width:200%;
height:200%;
background-image:
linear-gradient(rgba(255,255,255,0.05) 1px, transparent 1px),
linear-gradient(90deg, rgba(255,255,255,0.05) 1px, transparent 1px);
background-size:60px 60px;
animation:gridMove 20s linear infinite;
z-index:-1;
}
@keyframes gridMove{
0%{transform:translate(0,0);}
100%{transform:translate(-60px,-60px);}
}

.hero{
height:80vh;
display:flex;
flex-direction:column;
justify-content:center;
align-items:center;
}

h1{
font-size:clamp(50px,8vw,120px);
letter-spacing:8px;
margin-bottom:10px;
}

.sub{
color:#aaa;
letter-spacing:4px;
font-size:14px;
margin-bottom:40px;
}

/* GAME SECTION */
.game-section{
padding:40px 20px;
}

input{
padding:10px;
background:#111;
border:1px solid #333;
color:#fff;
margin-bottom:10px;
}

button{
padding:10px 20px;
background:#fff;
color:#000;
border:none;
cursor:pointer;
margin-bottom:20px;
}

canvas{
background:#111;
border:2px solid #333;
}

.scoreboard{
margin-top:20px;
text-align:left;
max-width:300px;
margin-left:auto;
margin-right:auto;
}

.scoreboard h3{
margin-bottom:10px;
}

.scoreboard li{
font-size:14px;
margin-bottom:5px;
color:#aaa;
}
</style>
</head>
<body>

<div class="hero">
<h1>TRENDZA</h1>
<div class="sub">Play while we launch</div>
</div>

<div class="game-section">
<input id="username" placeholder="Enter username">
<br>
<button onclick="startGame()">Start Game</button>
<br>
<canvas id="game" width="300" height="300"></canvas>

<div class="scoreboard">
<h3>Leaderboard</h3>
<ul id="leaderboard"></ul>
</div>
</div>

<script>
let canvas = document.getElementById("game");
let ctx = canvas.getContext("2d");

let box = 15;
let snake = [];
let food;
let direction;
let score;
let game;

function startGame(){
let name = document.getElementById("username").value;
if(!name) return alert("Enter username");

snake = [{x:150,y:150}];
direction = "RIGHT";
score = 0;
food = {
x:Math.floor(Math.random()*20)*box,
y:Math.floor(Math.random()*20)*box
};

if(game) clearInterval(game);
game = setInterval(draw,100);
}

document.addEventListener("keydown",e=>{
if(e.key=="ArrowLeft" && direction!="RIGHT") direction="LEFT";
if(e.key=="ArrowUp" && direction!="DOWN") direction="UP";
if(e.key=="ArrowRight" && direction!="LEFT") direction="RIGHT";
if(e.key=="ArrowDown" && direction!="UP") direction="DOWN";
});

function draw(){
ctx.fillStyle="#111";
ctx.fillRect(0,0,300,300);

for(let i=0;i<snake.length;i++){
ctx.fillStyle=i==0?"#fff":"#666";
ctx.fillRect(snake[i].x,snake[i].y,box,box);
}

ctx.fillStyle="red";
ctx.fillRect(food.x,food.y,box,box);

let snakeX=snake[0].x;
let snakeY=snake[0].y;

if(direction=="LEFT") snakeX-=box;
if(direction=="UP") snakeY-=box;
if(direction=="RIGHT") snakeX+=box;
if(direction=="DOWN") snakeY+=box;

if(snakeX==food.x && snakeY==food.y){
score++;
food={
x:Math.floor(Math.random()*20)*box,
y:Math.floor(Math.random()*20)*box
};
}else{
snake.pop();
}

let newHead={x:snakeX,y:snakeY};

if(snakeX<0||snakeY<0||snakeX>=300||snakeY>=300||collision(newHead,snake)){
clearInterval(game);
saveScore(score);
return;
}

snake.unshift(newHead);
}

function collision(head,array){
for(let i=0;i<array.length;i++){
if(head.x==array[i].x && head.y==array[i].y){
return true;
}
}
return false;
}

function saveScore(score){
let name=document.getElementById("username").value;
let scores=JSON.parse(localStorage.getItem("trendzaScores"))||[];
scores.push({name:name,score:score});
scores.sort((a,b)=>b.score-a.score);
scores=scores.slice(0,10);
localStorage.setItem("trendzaScores",JSON.stringify(scores));
renderLeaderboard();
}

function renderLeaderboard(){
let scores=JSON.parse(localStorage.getItem("trendzaScores"))||[];
let list=document.getElementById("leaderboard");
list.innerHTML="";
scores.forEach((s,i)=>{
let li=document.createElement("li");
li.textContent=`${i+1}. ${s.name} - ${s.score}`;
list.appendChild(li);
});
}

renderLeaderboard();
</script>

</body>
</html>