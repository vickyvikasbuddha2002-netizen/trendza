<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Trendza</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box;}

body{
background:#000;
color:#fff;
font-family:'Orbitron',sans-serif;
overflow-x:hidden;
text-align:center;
}

/* Animated grid background */
body::before{
content:"";
position:fixed;
width:200%;
height:200%;
background-image:
linear-gradient(rgba(255,255,255,0.05) 1px, transparent 1px),
linear-gradient(90deg, rgba(255,255,255,0.05) 1px, transparent 1px);
background-size:50px 50px;
animation:moveGrid 20s linear infinite;
z-index:-1;
}

@keyframes moveGrid{
0%{transform:translate(0,0);}
100%{transform:translate(-50px,-50px);}
}

.hero{
height:80vh;
display:flex;
flex-direction:column;
justify-content:center;
align-items:center;
}

.hero h1{
font-size:clamp(60px,10vw,120px);
letter-spacing:10px;
font-weight:900;
}

.hero p{
margin-top:20px;
color:#aaa;
letter-spacing:4px;
}

.game-section{
padding:40px 20px;
}

input{
padding:10px;
background:#111;
border:1px solid #0f0;
color:#0f0;
text-align:center;
margin-bottom:10px;
}

button{
padding:10px 20px;
margin:5px;
background:#0f0;
border:none;
font-weight:bold;
cursor:pointer;
}

canvas{
background:#111;
border:2px solid #0f0;
display:block;
margin:20px auto;
}

/* Controls */
.controls{
margin-top:10px;
}

.controls button{
width:60px;
height:60px;
font-size:20px;
}

/* Leaderboard */
.leaderboard{
max-width:300px;
margin:20px auto;
text-align:left;
}

.leaderboard h3{
text-align:center;
margin-bottom:10px;
}

.leaderboard ul{
list-style:none;
}

.leaderboard li{
padding:6px 0;
border-bottom:1px solid #222;
}

.retry-btn{
background:#ff0;
color:#000;
}

.reset-btn{
background:#f00;
color:#fff;
}
</style>
</head>

<body>

<section class="hero">
<h1>TRENDZA</h1>
<p>Launching Soon</p>
</section>

<section class="game-section">
<h2>Play Snake While You Wait</h2>

<input id="username" placeholder="Enter username">
<br>
<button onclick="startGame()">Start Game</button>
<button class="retry-btn" onclick="retryGame()">Retry</button>
<button class="reset-btn" onclick="resetScores()">Reset Players</button>

<canvas id="game" width="300" height="300"></canvas>

<div class="controls">
<div>
<button onclick="setDirection('UP')">↑</button>
</div>
<div>
<button onclick="setDirection('LEFT')">←</button>
<button onclick="setDirection('DOWN')">↓</button>
<button onclick="setDirection('RIGHT')">→</button>
</div>
</div>

<div class="leaderboard">
<h3>Leaderboard</h3>
<ul id="scores"></ul>
</div>

</section>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");
const box = 15;
let snake, direction, food, score, game;
let username = "";

function startGame(){
username = document.getElementById("username").value.trim();
if(!username){ alert("Enter username"); return; }

let scores = JSON.parse(localStorage.getItem("trendzaScores")) || [];
if(scores.find(s => s.name === username)){
alert("Username already exists");
return;
}

initGame();
}

function retryGame(){
if(!username){ alert("Start game first"); return; }
initGame();
}

function initGame(){
snake = [{x:150,y:150}];
direction = "RIGHT";
score = 0;
food = {
x:Math.floor(Math.random()*20)*box,
y:Math.floor(Math.random()*20)*box
};
clearInterval(game);
game = setInterval(draw,100);
}

function setDirection(dir){
if(dir==="LEFT" && direction!=="RIGHT") direction="LEFT";
if(dir==="UP" && direction!=="DOWN") direction="UP";
if(dir==="RIGHT" && direction!=="LEFT") direction="RIGHT";
if(dir==="DOWN" && direction!=="UP") direction="DOWN";
}

document.addEventListener("keydown",e=>{
if(e.key==="ArrowLeft") setDirection("LEFT");
if(e.key==="ArrowUp") setDirection("UP");
if(e.key==="ArrowRight") setDirection("RIGHT");
if(e.key==="ArrowDown") setDirection("DOWN");
});

function collision(head,array){
return array.some(seg=>seg.x===head.x && seg.y===head.y);
}

function draw(){
ctx.fillStyle="#111";
ctx.fillRect(0,0,300,300);

for(let i=0;i<snake.length;i++){
ctx.fillStyle = i===0?"#0f0":"#090";
ctx.fillRect(snake[i].x,snake[i].y,box,box);
}

ctx.fillStyle="red";
ctx.fillRect(food.x,food.y,box,box);

let snakeX = snake[0].x;
let snakeY = snake[0].y;

if(direction==="LEFT") snakeX-=box;
if(direction==="UP") snakeY-=box;
if(direction==="RIGHT") snakeX+=box;
if(direction==="DOWN") snakeY+=box;

if(snakeX===food.x && snakeY===food.y){
score++;
food = {
x:Math.floor(Math.random()*20)*box,
y:Math.floor(Math.random()*20)*box
};
}else{
snake.pop();
}

let newHead={x:snakeX,y:snakeY};

if(snakeX<0||snakeY<0||snakeX>=300||snakeY>=300||collision(newHead,snake)){
clearInterval(game);
saveScore();
return;
}

snake.unshift(newHead);
}

function saveScore(){
let scores = JSON.parse(localStorage.getItem("trendzaScores")) || [];
scores.push({name:username,score});
scores.sort((a,b)=>b.score-a.score);
localStorage.setItem("trendzaScores",JSON.stringify(scores));
displayScores();
}

function displayScores(){
let scores = JSON.parse(localStorage.getItem("trendzaScores")) || [];
let ul = document.getElementById("scores");
ul.innerHTML="";
scores.slice(0,10).forEach((s,i)=>{
ul.innerHTML+=`<li>#${i+1} ${s.name} - ${s.score}</li>`;
});
}

function resetScores(){
if(confirm("Reset all players?")){
localStorage.removeItem("trendzaScores");
displayScores();
}
}

displayScores();
</script>

</body>
</html>